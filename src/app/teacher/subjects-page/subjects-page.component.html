<div *ngIf="isLoaded; else loadingBlock">
  <form
    class="card"
    [formGroup]="form"
    (ngSubmit)="applyToNewSubject()"
  >
    <h4 class="text-center">Apply new subject</h4>
    <label>Subject</label>
    <div *ngIf="subjectsCanApply; else youCantConductAnyLessonBlock">
      <select matNativeControl required formControlName="subjectCanApply">
        <option *ngFor="let subjectCanApply of subjectsCanApply"
                [value]="getJsonOfSubject(subjectCanApply)">{{subjectCanApply.name}}</option>
      </select>
      <button
        class="btn btn-primary"
        type="submit"
        [disabled]="form.invalid"
      >Apply
      </button>
    </div>
  </form>


  <h4 class="text-center">My subjects</h4>
  <table>
    <thead>
    <tr>
      <th>#</th>
      <th>Name</th>
    </tr>
    </thead>
    <tbody *ngFor="let ownSubject of ownSubjects; let ind = index">
    <tr>
      <td>{{ind + 1}}</td>
      <td>{{ownSubject.name}}</td>
    </tr>
    </tbody>
  </table>
</div>

<ng-template #loadingBlock>
  <p class="text-center">Loading...</p>
</ng-template>
<ng-template #youCantConductAnyLessonBlock>
  <p class="text-center">You can't conduct any lesson</p>
</ng-template>
